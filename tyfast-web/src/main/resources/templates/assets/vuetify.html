<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Vuetify Components::Thymeleaf</title>
</head>
<body>
  <!-- ############## -->
  <!--/* 带Confirm提示的按钮组件 */-->
  <!-- ############## -->
  <th:block th:fragment="v-btn-confirm">
    <template id="v-btn-confirm-template">
      <v-menu top offset-y :close-on-content-click="false" v-model="visible">
        <template v-slot:activator="{ on, attrs }">
          <a v-bind="attrs" v-on="on">
            <slot>删除</slot>
          </a>
        </template>
        <v-list style="padding: 0;">
          <v-list-item>
            <v-list-item-content style="display: block;">
              <v-list-item-title style="font-size: 14px;">
                <v-icon color="warning">mdi-message-question</v-icon>{{message}}
              </v-list-item-title>
              <v-list-item-subtitle>
                <v-btn small depressed outlined text @click="close">取消</v-btn>
                <v-btn small depressed color="primary" :loading="loading" @click="confirm">确定</v-btn>
              </v-list-item-subtitle>
            </v-list-item-content>
          </v-list-item>
        </v-list>
      </v-menu>
    </template>
    <script type="text/javascript">
      Vue.component('v-btn-confirm', {
        template: '#v-btn-confirm-template',
        data: function() {
          return {
            visible: false,
            loading: false,
          }
        },
        props: {
          message: {
            type: String,
            default: '确定删除？'
          },
          data: Object
        },
        methods: {
          confirm() {
            this.loading = true;
            this.$emit("confirm", this.data, this);
          },
          close() {
            this.visible = false;
          },
          finish() {
            this.close();
            this.loading = false;
          }
        }
      });
    </script>
  </th:block>
</body>
</html>